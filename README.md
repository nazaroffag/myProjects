Тестовое задание для ГК Системные технологии SQL-JS-PUG

Для подготовки JSON использовал SQLPro for SQLite

<!-- --- SQL запрос --- -->

SELECT date, docTypes.name, docs.id, products.name, image, price, quantity, rows.removed FROM docs, docTypes, "rows", products WHERE docs.id = rows.docId AND docs.typeId = docTypes.id AND rows.productId = products.id

<!-- -- Run -- -->

npm install

npm run start

Обязательные корректировки ( [x]-выполнено):

[x] не верный алгоритм работы скрипта. В каждой дате все документы, и строки с документами повторяются столько раз сколько строк в запросе на эту дату.

[x] в коде непосредственная привязка конкретного идентификаторы документа к типу документа

[x] при формировании итоговой суммы для документа и даты не учитывается количество товара

[x] при работе с датами не учтено что в массиве элементы начинают с 0, таким образом все месяцы сдвинуты на 1 вперёд

[x] большая вложенность. Такой код тяжело поддерживать и расширять.

Остальные:

sql:

[x] нет ограничения по удалённым типам документа

[ ] по хорошему использовать внешние join и сразу в этой же строке писать условие присоединения. Это читабельней и при отсутствии данных в какой то из таблиц, строка с остальными данными всё равно попадёт в запрос.

[x] в ТЗ нет поля typeId;

css:

[x] - при определённой ширине экрана слипаются блоки(например цена одного товара и общая стоимость)

js:

[x] работа с датой как со строкой. Есть специальный объект Date

[x] много пустых проходов по массиву, когда уже понятно что больше итераций делать не нужно

[x] странные идентификаторы у чекбокса. Лучше брать что-то действительно уникальное

[x] работа с суммами через регулярки, символы валют задаются через жестко привязанный символ в шаблоне. Есть специальные методы для работы с денежными величинами.
